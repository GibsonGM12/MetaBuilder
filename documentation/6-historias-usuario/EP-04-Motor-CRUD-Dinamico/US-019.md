# US-019: Implementar DynamicQueryBuilder

## Información General

| Campo | Valor |
|-------|-------|
| **ID** | US-019 |
| **Título** | Implementar DynamicQueryBuilder |
| **Épica** | EP-04: Motor CRUD Dinámico |
| **Prioridad** | P0 (Crítica) |
| **Estimación** | 90 min |
| **Dependencias** | US-018 |

## Historia de Usuario

**Como** desarrollador backend,

**Quiero** una clase que construya queries SQL dinámicas,

**Para** generar INSERT, SELECT, UPDATE, DELETE según metadatos.

## Descripción

Implementar QueryBuilder que genere SQL seguro con parámetros nombrados.

## Criterios de Aceptación

```gherkin
Scenario: Genera INSERT correcto
  Given que tengo metadatos de entidad "productos" con campos nombre, precio
  When construyo query de INSERT con datos {"nombre": "Laptop", "precio": 999}
  Then el SQL generado es: INSERT INTO entity_x (nombre, precio) VALUES (:nombre, :precio) RETURNING id
  And los parámetros están separados del SQL

Scenario: Genera SELECT con paginación
  Given que tengo metadatos de entidad
  When construyo query de SELECT con page=2, page_size=20
  Then el SQL incluye LIMIT 20 OFFSET 20
```

## Notas Adicionales

- Usar text() de SQLAlchemy con parámetros nombrados
- RETURNING id en INSERT para obtener ID generado

## Historias de Usuario Relacionadas

- US-018: Crear repositorio de datos dinámicos
- US-021: Implementar DynamicCrudService
