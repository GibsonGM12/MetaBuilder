# US-023: Crear CrudRouter con endpoints REST

## Información General

| Campo | Valor |
|-------|-------|
| **ID** | US-023 |
| **Título** | Crear CrudRouter con endpoints REST |
| **Épica** | EP-04: Motor CRUD Dinámico |
| **Prioridad** | P0 (Crítica) |
| **Estimación** | 75 min |
| **Dependencias** | US-021, US-022 |

## Historia de Usuario

**Como** usuario,

**Quiero** endpoints para hacer CRUD de registros,

**Para** gestionar datos de las entidades.

## Descripción

Crear router con endpoints CRUD genéricos para cualquier entidad.

## Criterios de Aceptación

```gherkin
Scenario: CRUD completo funciona
  Given que existe la entidad "productos"
  And estoy autenticado
  When creo, leo, actualizo y elimino un registro
  Then todas las operaciones funcionan correctamente
  And recibo status codes apropiados (201, 200, 200, 204)

Scenario: Entidad no encontrada retorna 404
  Given que no existe la entidad con id "xxx"
  When intento listar registros de esa entidad
  Then recibo status 404

Scenario: Admin y User pueden acceder
  Given que estoy autenticado como User
  When accedo a los endpoints de CRUD
  Then tengo acceso (no es exclusivo de Admin)
```

## Notas Adicionales

- URL pattern: /api/entities/{entity_id}/records
- Proteger con get_current_user (no requiere Admin)

## Historias de Usuario Relacionadas

- US-009: Configurar middleware de autorización
- US-021: Implementar DynamicCrudService
- US-022: Crear DTOs para CRUD dinámico
- US-038: Crear Dockerfile para backend
