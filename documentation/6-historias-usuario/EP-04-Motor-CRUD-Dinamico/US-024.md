# US-024: Implementar manejo global de errores

## Información General

| Campo | Valor |
|-------|-------|
| **ID** | US-024 |
| **Título** | Implementar manejo global de errores |
| **Épica** | EP-04: Motor CRUD Dinámico |
| **Prioridad** | P0 (Crítica) |
| **Estimación** | 30 min |
| **Dependencias** | US-023 |

## Historia de Usuario

**Como** desarrollador backend,

**Quiero** un exception handler global,

**Para** retornar respuestas de error consistentes.

## Descripción

Implementar middleware de manejo de errores que capture excepciones y retorne JSON estructurado.

## Criterios de Aceptación

```gherkin
Scenario: Errores retornan JSON consistente
  Given que ocurre un error de validación
  When la API responde
  Then el JSON tiene formato: {success: false, error: {code, message, details}}

Scenario: Errores 500 no exponen detalles internos
  Given que ocurre una excepción no controlada
  When la API responde
  Then el mensaje es genérico "Error interno del servidor"
  And los detalles internos se loguean pero no se exponen
```

## Notas Adicionales

- Crear excepciones personalizadas (ValidationError, NotFoundError, etc.)
- Loguear stack traces para debugging

## Historias de Usuario Relacionadas

- US-023: Crear CrudRouter con endpoints REST
- US-037: Mejorar UX con loading states y errores
