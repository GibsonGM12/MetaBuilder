# US-017: Implementar ALTER TABLE al agregar campos

## Información General

| Campo | Valor |
|-------|-------|
| **ID** | US-017 |
| **Título** | Implementar ALTER TABLE al agregar campos |
| **Épica** | EP-03: Gestión de Metadatos |
| **Prioridad** | P0 (Crítica) |
| **Estimación** | 45 min |
| **Dependencias** | US-016 |

## Historia de Usuario

**Como** administrador,

**Quiero** poder agregar campos a entidades existentes,

**Para** extender entidades sin perder datos existentes.

## Descripción

Implementar método en TableManager para ejecutar ALTER TABLE ADD COLUMN.

## Criterios de Aceptación

```gherkin
Scenario: Agregar campo modifica tabla
  Given que existe la entidad "productos" con registros
  When agrego un campo "categoria" tipo TEXT
  Then la tabla tiene la nueva columna
  And los registros existentes tienen NULL en el nuevo campo

Scenario: Error de ALTER revierte cambios
  Given que voy a agregar un campo con nombre inválido
  When falla el ALTER TABLE
  Then el campo no se guarda en metadatos
  And la tabla queda en estado consistente
```

## Notas Adicionales

- Usar transacciones para garantizar consistencia
- Nuevas columnas siempre NULL por defecto

## Historias de Usuario Relacionadas

- US-016: Implementar creación dinámica de tablas
- US-030: Crear formulario para agregar campos
